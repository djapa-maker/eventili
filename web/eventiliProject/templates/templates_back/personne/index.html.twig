{% extends 'baseAdmin.html.twig'%}

{% block content %}
	{#
				<!--breadcrumb-->
				<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
					<div class="breadcrumb-title pe-3">Tableaux</div>
					<div class="ps-3">
						<nav aria-label="breadcrumb">
							<ol class="breadcrumb mb-0 p-0">
								<li class="breadcrumb-item">
									<a href="javascript:;">
										<i class="bx bx-home-alt"></i>
									</a>
								</li>
								<li class="breadcrumb-item active" aria-current="page">Tableaux des Personnes</li>
							</ol>
						</nav>
					</div>
					
				</div>
				<!--end breadcrumb-->
			
				<button type="button" style="margin-left: 1510px;border-radius:10px;
																color:white;
																background-color:#aeb8ff;
																border-color:#aeb8ff;
																font-size:19px" class="btn btn-primary" onclick="window.location.href='{{ path('app_personne_new') }}'">+</button>
			
			
				<div class="card">
					<div class="card-body">
						<div class="table-responsive">
							<table id="example" class="table table-striped table-bordered" style="width:100%; border-color:#aeb8ff;border-radius:30px">
								<thead>
									<tr style="color:#27187f">
			
										<th>Nom</th>
										<th>Prénom</th>
										<th>Numéro</th>
										<th>Email</th>
										<th>Adresse</th>
										<th>Rib</th>
										<th>Role</th>
										<th>actions</th>
									</tr>
								</thead>
								<tbody>
									{% for personne in personnes %}
			
										<tr style="color:#27187f">
											<td>{{ personne.nomPers }}</td>
											<td>{{ personne.prenomPers }}</td>
											<td>{{ personne.numTel }}</td>
											<td>{{ personne.email }}</td>
											<td>{{ personne.adresse }}</td>
											<td>{{ personne.rib }}</td>
											<td>{{ personne.role }}</td>
			
											<td>
												<div style="display: flex; align-items:center;margin-left:30px;text-align:center;">
			
													{{ include('templates_back/personne/_delete_form.html.twig') }}
													<a href="{{ path('app_personne_edit',{'idPers':personne.idPers}) }}" style=" border-radius:40px; background-color:#758afd; border-color:#758afd; height:30px; width:30px; display: flex; justify-content: center; align-items: center;color:white">
														<i class='bx bx-edit' style="font-size:20px"></i>
													</a>
			
												</div>
											</td>
										</tr>
									{% else %}
										<tr>
											<td colspan="11">no records found</td>
										</tr>
									{% endfor %}
								</tbody>
			
							</table>
						</div>
			
					</div>
				</div>#}
				<div
		class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
		
<div style="color:#758afd;font-size:25px;font-style:bold">Utilisateurs</div>
<div class="search-bar flex-grow-1" style="margin-left:20%;">
			<div class="position-relative search-bar-box">
				<form id="annuite_form" class="form" action="{{ path('app_personne_index') }}" enctype="multipart/form-data" method="GET">
					<input type="text" name="search1" style="border-radius:20px;border: 2px solid #aeb8ff  " class="form-control search-control" id="placeholder1" placeholder="Rechercher...">
				</form>
				<span class="position-absolute top-50 search-show translate-middle-y">
					<i class='bx bx-search' style="color:#aeb8ff"></i>
				</span>
				<span class="position-absolute top-50 search-close translate-middle-y">
					<i class='bx bx-x' style="color:white"></i>
				</span>
			</div>
			</div>
		</div>
<button type="button" style="margin-left: 1350px;border-radius:10px;
																color:white;
																background-color:#aeb8ff;
																border-color:#aeb8ff;
																font-size:19px" class="btn btn-primary" onclick="window.location.href='{{ path('app_personne_new') }}'">Ajouter un utilisateur</button>
			<br> <br>
	
	
	<br>
	<form class="form" action="{{ path('app_personne_index')}}" method="GET">
		<select name="inputfilter" id="filterService" style="height:31px;border-radius:5px;color:white;background-color:#ff8601;margin-bottom:10px;border-color:#ff8601;font-size:15px">
			<option value="" name="choose">choisissez</option>
			
				<option value="admin" name="inputfilter">admin</option>
				<option value="organisteur" name="inputfilter">organisteur</option>
				<option value="partenaire" name="inputfilter">partenaire</option>
			
		</select>
	</form>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		$(document).ready(function () {
$('#filterService').on('change', function () {
$(this).closest('form').submit();
});
});
	</script>
	
	
	
	
	<div class="row row-cols-1 row-cols-lg-2 row-cols-xl-4">
		{% for personne in personnes %}
			<div class="col">
				<div class="card radius-15">
					<div class="card-body text-center">
						<div class="p-4 border radius-15">
							
							<h5 class=" mt-2">{{ personne.nomPers }} {{ personne.prenomPers }}</h5>
							<p class="mb-1">{{ personne.role }}</p>
							<p class="mb-1"><i class="bx bxs-phone"></i>{{ personne.numTel }}</p>
							<p class="mb-1">Adresse: {{ personne.adresse }}</p><br>
							<div style="display: flex; align-items:center;margin-left:110px;text-align:center;">

										{{ include('templates_back/personne/_delete_form.html.twig') }}
										<a href="{{ path('app_personne_edit',{'idPers':personne.idPers}) }}" style=" border-radius:40px; background-color:#758afd; border-color:#758afd; height:30px; width:30px; display: flex; justify-content: center; align-items: center;color:white">
											<i class='bx bx-edit' style="font-size:20px"></i>
										</a>

									</div>
							
								
								<p class="mb-0 mt-4"><i class="bx bxs-message"></i>{{ personne.email }}</p>
							

						</div>
					</div>
				</div>
			</div>
		{% else %}
		<br>
			<tr>
				<td colspan="11">Aucun utilisateur trouvé</td>
			</tr>
		{% endfor %}
	</div>


{% endblock %}
