{% extends 'baseAdmin.html.twig' %}
{# ------------------------------------------------------------------------------------------- #}
{% block title %}Nouvelle catégorie{% endblock %}
{# ajout d'un service ------------------------------------------------------------------------------------------- #}
{% block content %}

	<center>
		<h1 style="color:#aeb8ff">Créer une nouvelle catégorie</h1>
		<center>{{ form_start(form, {'attr': {'class': 'was-validated', 'novalidate': 'novalidate'}}) }}
{# input nom------------------------------------------------------------------------------------------- #}
	<div class="form-group col-sm-7">
		<div style="color:#6B67E9;font-size:20px">
			{{ form_label(form.type, 'Insérer le nom de la catégorie', {'label_attr': {'class': 'form-label'}}) }}
		</div>
		{{ form_widget(form.type, {'attr': {'class': 'form-control', 'placeholder': '', 'maxlength': 30}}) }}
		<div style="color:red;border-color:red">
			{{ form_errors(form.type,{'attr': {'class': 'invalide-feedback'}}) }}
		</div>
	</div>
{# bouton create ------------------------------------------------------------------------------------------- #}	
	<button id="submit-button" disabled style="margin-top:20px;margin-left:510px;width:15%;border-radius:10px;color:white;background-color:#aeb8ff;border-color:#aeb8ff;font-size:19px" type="submit" class="btn btn-primary">{{ button_label|default('Créer') }}</button>
	{{ form_end(form) }}
</center>
		<br>
		<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
		<lottie-player src="https://assets1.lottiefiles.com/packages/lf20_ud6csclv.json" background="transparent" speed="1" style="width: 400px; height: 400px;" loop autoplay></lottie-player>
		<a style="margin-left: 200%;color:grey;margin-top:10%" href="{{ path('app_service_index') }}">Retour</a>
	</center>

	{# script pour le disable du bouton------------------------------------------------------------------------------------------- #}
<script>
	const inputs = document.querySelectorAll('input[required]');
const submitBtn = document.querySelector('#submit-button');

inputs.forEach(input => {
input.addEventListener('input', () => {
let allFilled = true;
inputs.forEach(input => {
if (input.value.trim() === '') {
allFilled = false;
}
});
if (allFilled) {
submitBtn.removeAttribute('disabled');
} else {
submitBtn.setAttribute('disabled', 'disabled');
}
});
});
</script>


{% endblock %}
